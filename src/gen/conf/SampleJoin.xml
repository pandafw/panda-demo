<?xml version="1.0" encoding="UTF-8"?>
<module xmlns="panda.tool.codegen" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="https://raw.github.com/foolite/panda-repo/master/com/foolite/panda-tool/1.0.0/panda-codegen-module.xsd">
	<include>codegen.xml</include>

	<!-- entity -->
	<entity name="${entity.package}.SampleJoin" baseBeanClass="${entity.baseBeanClass}" baseQueryClass="${entity.baseQueryClass}" trimString="${trim.stringNull}" trimList="${trim.listNull}" identity="id" identityStart="1001">
		<property name="id" type="Long" notNull="true" primaryKey="true"/>
		<property name="tagsId" type="Long" notNull="true" foreignEntity="SampleTags"/>
		<property name="tagsName" type="String" joinName="TN" joinEntity="SampleTags" joinField="name" joinKeys="tagsId" joinRefs="id"/>
		<property name="uniqId" type="Long" notNull="true" foreignEntity="SampleUnique"/>
		<property name="uniqName" type="String" joinName="TF" joinEntity="SampleUnique" joinField="name" joinKeys="uniqId" joinRefs="id"/>
	</entity>

	<!-- action -->
	<action name="action.SampleJoin" entity="${entity.package}.SampleJoin" extend="baseAction">
		<list name="basicList" extend="baseList">
			<column name="id" sortable="true" link="true">
				<filter type="number"/>
			</column>
			<column name="tagsId" hidden="true" sortable="true">
				<filter type="number"/>
			</column>
			<column name="tagsName" sortable="true">
				<filter type="string"/>
			</column>
			<column name="uniqId" hidden="true" sortable="true">
				<filter type="number"/>
			</column>
			<column name="uniqName" sortable="true">
				<filter type="string"/>
			</column>
		</list>
		<input name="basicInput" extend="baseInput">
			<field name="id">
				<editTag name="${tag.viewfield}"/>
			</field>
			<field name="tagsId" required="true">
				<editTag name="${tag.triggerfield}">
					<param name="maxlength" value="${tag.longfield.maxlength}"/>
					<param name="size" value="${tag.longfield.size}"/>
					<param name="~popup" value="{'action':'../sampletags/list_popup','fields':{'tagsId':'id', 'tagsName':'name'}}"/>
					<param name="readonly" value="true"/>
					<param name="~clear" value="['tagsId', 'tagsName']"/>
				</editTag>
			</field>
			<field name="tagsName">
				<editTag name="${tag.viewfield}"/>
			</field>
			<field name="uniqId" required="true">
				<editTag name="${tag.triggerfield}">
					<param name="maxlength" value="${tag.longfield.maxlength}"/>
					<param name="size" value="${tag.longfield.size}"/>
					<param name="~popup" value="{'action':'../samplefile/list_popup','fields':{'uniqId':'id', 'uniqName':'name'}}"/>
					<param name="~clear" value="['uniqId', 'uniqName']"/>
				</editTag>
			</field>
			<field name="uniqName">
				<editTag name="${tag.viewfield}"/>
			</field>
		</input>
	</action>
	<action name="samplejoin" auth="${action.auth}" path="${action.context}" extend="action.SampleJoin" actionClass="${action.package}.samplejoin.SampleJoinListAction" actionBaseClass="${action.baseListActionClass}" generate="true">
		<list name="list" extend="basicList" template="${template.list}" generate="true"/>
		<list name="list_csv" extend="basicList" template="${template.list_csv}" generate="true"/>
		<list name="list_print" extend="basicList" template="${template.list_print}" generate="true"/>
		<list name="list_json" extend="basicList" template="${template.list_json}" generate="true"/>
		<list name="list_xml" extend="basicList" template="${template.list_xml}" generate="true"/>
	</action>
	<action name="samplejoin" auth="${action.auth}" path="${action.context}" extend="action.SampleJoin" actionClass="${action.package}.samplejoin.SampleJoinBulkAction" actionBaseClass="${action.baseBulkActionClass}" generate="true">
		<list name="bdelete" extend="basicList" template="${template.bdelete}" generate="true"/>
	</action>
	<action name="samplejoin" auth="${action.auth}" path="${action.context}" extend="action.SampleJoin" actionClass="${action.package}.samplejoin.SampleJoinEditAction" actionBaseClass="${action.baseEditActionClass}" generate="true">
		<input name="view" extend="basicInput" template="${template.view}" generate="true">
			<param name="toolbar" value="${view.toolbar}"/>
			<param name="actions" value="${view.actions}"/>
		</input>
		<input name="print" extend="basicInput" template="${template.print}" generate="true"/>
		<input name="copy" extend="basicInput" template="${template.copy}" generate="true"/>
		<input name="add" extend="basicInput" template="${template.add}" generate="true"/>
		<input name="edit" extend="basicInput" template="${template.edit}" generate="true"/>
		<input name="delete" extend="basicInput" template="${template.delete}" generate="true">
			<param name="toolbar" value="${delete.toolbar}"/>
			<param name="actions" value="${delete.actions}"/>
		</input>
	</action>

	<!-- resource -->
	<resource>
		<entity name="${entity.package}.SampleJoin">
			<property name="tagsId" label="TAGS ID"/>
			<property name="tagsName" label="TAGS Name"/>
			<property name="uniqId" label="UNIQ ID"/>
			<property name="uniqName" label="UNIQ Name"/>
		</entity>
		<action name="samplejoin" title="JOIN Sample"/>
	</resource>
	<resource locale="ja">
		<entity name="${entity.package}.SampleJoin">
			<property name="tagsId" label="TAGサンプルID"/>
			<property name="tagsName" label="TAGサンプル名"/>
			<property name="uniqId" label="UNIQサンプルID"/>
			<property name="uniqName" label="UNIQサンプル名"/>
		</entity>
		<action name="samplejoin" title="JOINサンプル"/>
	</resource>
	<resource locale="zh">
		<entity name="${entity.package}.SampleJoin">
			<property name="tagsId" label="TAG样本ID"/>
			<property name="tagsName" label="TAGサンプル名"/>
			<property name="uniqId" label="UNIQ样本ID"/>
			<property name="uniqName" label="UNIQ样本名"/>
		</entity>
		<action name="samplejoin" title="JOIN样本"/>
	</resource>
</module>
